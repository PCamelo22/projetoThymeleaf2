<!Doctype html>

<html lang="PT-BR">
	<head>
		<meta charset="UTF-8" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
		<title>Produtos</title>
	</head>
	
	<body>
	
	<header>
		<nav class="navbar navbar-expand-lg bg-body-tertiary">
		  <div class="container-fluid">
		    <a class="navbar-brand" href="/">
		    	<img src="https://cdn-icons-png.flaticon.com/512/25/25694.png" style="width: 76px">
		    </a>
		    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		      <span class="navbar-toggler-icon"></span>
		    </button>
		    <div class="collapse navbar-collapse" id="navbarNav">
		      <ul class="navbar-nav">
		        <li class="nav-item">
		          <a class="nav-link" aria-current="page" href="/">Inicio</a>
		        </li>
		        <li class="nav-item">
		          <a class="nav-link active" href="/produto">Produtos</a>
		        </li>
		        <li class="nav-item">
		          <a class="nav-link" href="/formularioDeCadastro">Cadastrar Produto</a>
		        </li>
		      </ul>
		    </div>
		  </div>
		</nav>
	</header>
	
	
	<h1>Produto</h1>
	
		<div class="container">
  			<div class="card" th:each="produto : ${produtos}" style="margin: 15px 0px; height: 60%;">
		  		<div class="card-header" th:text="${produto.nomeProduto}">Produtos</div>
		  		<div class="card-body">
			  		<div class="row">
			  			<div class="col-12 col-md-8 mb-5">
			  				<div>
			  					Preço:<span th:text="${produto.preco}"></span>
			  				</div>
			  				
			  				<div>
			  					Quantidade:<span th:text="${produto.quantidade}"></span>
			  				</div>
			  				
			  				<div>
			  					<h4>Descrição</h4>
			  					<textarea rows="5" cols="40" th:text="${produto.descricao}"></textarea>
			  				</div>
			  			</div>
			  			<div class="col-12 col-md-4" >
			  				<img th:src="${produto.urlImagem}" class="img-thumbnail" src=""/>
			  			</div>
			  		</div>
		  		
		  		</div>
		  		
		  		
	  			<div class="row">
	  				<div class="col" style="margin: 0px 0px 10px 50px">
	  					<a  th:href="@{/editar/{id}(id=${produto.id})}" href="#" class="btn btn-primary"> Editar </a>
	  					<button  data-bs-toggle="modal" class="btn btn-danger" th:attr="data-bs-target='#modalExcluir' + ${produto.id}"> Deletar </button>
	  				</div>
	  			</div>
		  		
		  		
			  	<!-- modal confirmação exclusão produto -->
				<div class="modal" tabindex="-1" th:attr="id='modalExcluir'+${produto.id}">
				  <div class="modal-dialog">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title">Excluir produto?</h5>
				        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				      </div>
				      <div class="modal-body">
				        <p>Deseja realmente excluir o produto: <strong><span th:text="${produto.nomeProduto}"></span></strong> ?</p>
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				        <a th:href="@{/delete/{id}(id=${produto.id})}" href="#" type="button" class="btn btn-warning">Confirmar</a>
				      </div>
				    </div>
				  </div>
				</div>
		  		
			</div>			
		</div>
		
		<div>
			<footer style="text-align: center; padding: 10px 0px; background-color: rgb(0, 64, 128); margin-bottom: 5px;">
				<span>Pablo Camelo</span>
			</footer>
		</div>
	</body>

</html>